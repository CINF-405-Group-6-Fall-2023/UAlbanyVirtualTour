<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campus Map</title>

    <!-- Load the static tag at the top of the file -->
    {% load static %}

    <!-- jQuery, maphilight, and htmx scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/maphilight/1.4.0/jquery.maphilight.min.js"></script>
    <script type="text/javascript" src="{% static 'js/htmx.min.js' %}"></script>
    <!-- maphilight styles (customize as needed) -->
    <style>
        .maphilighted {
            fill: true;
            fillColor: '46166b';
            fillOpacity: 0.5;
            stroke: true;
            strokeColor: 'eeb211';
            strokeOpacity: 1;
            strokeWidth: 5;
            fade: true;
            alwaysOn: false;
            neverOn: false;
            groupBy: false;
            wrapClass: true;
            shadow: false;
            shadowX: 0;
            shadowY: 0;
            shadowRadius: 6;
            shadowColor: '000000';
            shadowOpacity: 0.8;
            shadowPosition: 'outside';
            shadowFrom: false;
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.map').maphilight();

            // Handle click event on map areas using htmx
            $('area').htmx({
                'hx-get': '{% url "get_building_info" building_slug="dummy" %}',  // Dummy URL
                'hx-trigger': 'click',
                'hx-target': '#building-details',
                'hx-swap': 'outerHTML',
                'hx-vals': {
                    'building_slug': function (el) {
                        return el.getAttribute('data-building-slug');
                    }
                }
            });
        });
    </script>
</head>
<body>

    <!-- Your map image and areas -->
    <img class="map" src="{% static 'img/mapUptown.png' %}" usemap="#image-map">

    <map name="image-map">
        <area target="" alt="Lecture Center" title="Lecture Center" href="/get_building_info/lecture-center/" coords="1091,737,1216,644" shape="rect" data-building-slug="lecture-center">
        <area target="" alt="Campus Center" title="Campus Center" href="{% url 'get_building_info' building_slug='campus-center' %}" coords="1138,753,1124,753,1124,799,1136,799,1136,815,1173,815,1173,797,1186,796,1186,753,1173,753,1171,774,1138,774" shape="poly">
        <area target="" alt="Performing Arts Center" title="Performing Arts Center" href="{% url 'get_building_info' building_slug='performing-arts-center' %}" coords="1229,657,1295,657,1295,723,1229,723,1229,698,1247,698,1247,680,1229,680" shape="poly">
        <area target="" alt="University Library" title="University Library" href="" coords="996,657,1080,657,1080,682,1058,682,1058,698,1080,698,1078,723,996,723" shape="poly">
	    <area target="" alt="Catskill Building" title="Catskill Building" href="" coords="957,604,1041,638" shape="rect">
        <area target="" alt="Arts And Sciences Building" title="Arts And Sciences Building" href="" coords="1051,604,1126,638" shape="rect">
        <area target="" alt="Fine Arts Building" title="Fine Arts Building" href="" coords="1183,605,1260,638" shape="rect">
        <area target="" alt="Earth Science &amp; Mathematics Building" title="Earth Science &amp; Mathematics Building" href="" coords="1268,605,1352,637" shape="rect">
        <area target="" alt="Biology Building" title="Biology Building" href="" coords="1350,641,1383,739" shape="rect">
        <area target="" alt="Chemistry Building" title="Chemistry Building" href="" coords="1268,742,1352,775" shape="rect">
        <area target="" alt="Physics Building" title="Physics Building" href="" coords="1202,745,1258,778" shape="rect">
        <area target="" alt="Taconic Building" title="Taconic Building" href="" coords="1052,743,1107,776" shape="rect">
        <area target="" alt="Humanities Building" title="Humanities Building" href="" coords="957,744,1041,775" shape="rect">
        <area target="" alt="Social Science Building" title="Social Science Building" href="" coords="928,640,959,739" shape="rect">
        <area target="" alt="Life Sciences Building" title="Life Sciences Building" href="" coords="1381,654,1381,632,1420,632,1420,609,1451,609,1451,642,1497,642,1497,741,1451,741,1451,774,1418,774,1418,755,1379,755,1379,726,1408,726,1408,654" shape="poly">
        <area target="" alt="Science Library" title="Science Library" href="" coords="1124,863,1183,931" shape="rect">
        <area target="" alt="Massry Center for Business" title="Massry Center for Business" href="" coords="1062,518,1080,518,1080,512,1087,512,1089,518,1099,518,1099,562,1103,562,1103,572,1099,572,1099,586,1062,586,1062,539,1058,539,1056,527,1062,527,1056,527" shape="poly">
        <area target="" alt="University Hall - Office of Undergraduate Admissions" title="University Hall - Office of Undergraduate Admissions" href="" coords="1216,521,1258,534,1243,577,1202,564" shape="poly">	
        <area target="" alt="Colonial Quad" title="Colonial Quad" href="" coords="870,371,1012,501" shape="rect">
        <area target="" alt="State Quad" title="State Quad" href="" coords="1297,372,1441,506" shape="rect">
        <area target="" alt="Dutch Quad" title="Dutch Quad" href="" coords="868,876,1012,1010" shape="rect">
        <area target="" alt="Indigenous Quad" title="Indigenous Quad" href="" coords="1297,877,1439,1007" shape="rect">
        <area target="" alt="Freedom Apartments" title="Freedom Apartments" href="" coords="104,810,259,1026" shape="rect">
        <area target="" alt="Empire Commons" title="Empire Commons" href="" coords="454,458,454,423,477,423,477,373,609,373,609,451,650,451,650,484,677,484,677,651,646,651,646,682,617,705,617,775,541,775,475,678,475,610,456,610,456,581,421,581,421,558,397,558,397,480,421,480,421,458" shape="poly">
        <area target="" alt="Liberty Terrace" title="Liberty Terrace" href="" coords="1834,1092,1845,1072,1913,1113,1915,985,1962,985,1977,1117,1977,1140,1948,1266,1898,1259,1902,1229,1851,1264,1838,1245,1880,1220,1853,1177,1853,1160,1880,1119" shape="poly">
        <area target="" alt="Boor Sculpture Studio" title="Boor Sculpture Studio" href="" coords="1793,813,1853,841,1834,876,1795,857,1773,853" shape="poly">
        <area target="" alt="Emerging Technology and Entrepreneurship Complex (ETEC)" title="Emerging Technology and Entrepreneurship Complex (ETEC)" href="" coords="2036,765,2036,747,2028,739,2042,716,2075,743,2075,835,2051,835,2049,825,2042,825,2038,835,2016,817,2016,765" shape="poly">
        <area target="" alt="Albany Nanotech Complex" title="Albany Nanotech Complex" href="" coords="85,499,195,459,281,482,421,684,347,750,246,760,224,804,52,802,52,523" shape="poly">
        <area target="" alt="Physical Education Building" title="Physical Education Building" href="" coords="1099,1153,1087,1141,1218,1141,1208,1153,1208,1219,1214,1219,1214,1244,1093,1244,1093,1217,1099,1217" shape="poly">
        <area target="" alt="Broadview Center (SEFCU Arena)" title="Broadview Center (SEFCU Arena)" href="" coords="1115,1248,1192,1309" shape="rect">
    </map>

    <!-- Display fetched building details using htmx -->
    <div id="building-details" hx-target="#building-details" hx-swap="outerHTML">
        <h2>Loading building details...</h2>
    </div>

</body>
</html>
